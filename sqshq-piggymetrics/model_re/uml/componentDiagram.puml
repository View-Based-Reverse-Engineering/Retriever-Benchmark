@startuml
skinparam fixCircleLabelOverlapping true
component "AccountController\n\n\n\n\n\n" {
[com_piggymetrics_account_client_StatisticsServiceClient]
[com_piggymetrics_account_client_StatisticsServiceClientFallback]
[com_piggymetrics_account_service_AccountServiceImpl]
[com_piggymetrics_account_client_AuthServiceClient]
[com_piggymetrics_account_controller_AccountController]
[com_piggymetrics_account_repository_AccountRepository]
portin " " as AccountController.requires._accounts
portout " " as AccountController.provides._statistics
portout " " as AccountController.provides._uaa_users
[com_piggymetrics_account_controller_AccountController]..>[com_piggymetrics_account_service_AccountServiceImpl] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_repository_AccountRepository] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_StatisticsServiceClient] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_StatisticsServiceClientFallback] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_AuthServiceClient] : requires
"AccountController.requires._accounts"--[com_piggymetrics_account_controller_AccountController]
[com_piggymetrics_account_client_AuthServiceClient].."AccountController.provides._uaa_users"
[com_piggymetrics_account_client_StatisticsServiceClient].."AccountController.provides._statistics"
}
interface "/accounts" as interface._accounts
interface._accounts--"AccountController.requires._accounts"
interface "/uaa/users" as interface._uaa_users
"AccountController.provides._uaa_users"..>interface._uaa_users : requires
interface "/statistics" as interface._statistics
"AccountController.provides._statistics"..>interface._statistics : requires
component "NotificationServiceImpl\n\n\n\n\n\n" {
[com_piggymetrics_notification_service_RecipientServiceImpl]
[com_piggymetrics_notification_controller_RecipientController]
[com_piggymetrics_notification_service_EmailServiceImpl]
[com_piggymetrics_notification_client_AccountServiceClient]
[com_piggymetrics_notification_repository_RecipientRepository]
[com_piggymetrics_notification_service_NotificationServiceImpl]
portin " " as NotificationServiceImpl.requires._notifications_recipients
portout " " as NotificationServiceImpl.provides._accounts
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_client_AccountServiceClient] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_service_EmailServiceImpl] : requires
[com_piggymetrics_notification_controller_RecipientController]..>[com_piggymetrics_notification_service_RecipientServiceImpl] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_service_RecipientServiceImpl] : requires
[com_piggymetrics_notification_service_RecipientServiceImpl]..>[com_piggymetrics_notification_repository_RecipientRepository] : requires
"NotificationServiceImpl.requires._notifications_recipients"--[com_piggymetrics_notification_controller_RecipientController]
[com_piggymetrics_notification_client_AccountServiceClient].."NotificationServiceImpl.provides._accounts"
}
interface "/notifications/recipients" as interface._notifications_recipients
interface._notifications_recipients--"NotificationServiceImpl.requires._notifications_recipients"
interface "/accounts" as interface._accounts
"NotificationServiceImpl.provides._accounts"..>interface._accounts : requires
component "StatisticsServiceImpl\n\n\n\n\n\n" {
[com_piggymetrics_statistics_client_ExchangeRatesClient]
[com_piggymetrics_statistics_client_ExchangeRatesClientFallback]
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]
[com_piggymetrics_statistics_controller_StatisticsController]
[com_piggymetrics_statistics_service_StatisticsServiceImpl]
[com_piggymetrics_statistics_repository_DataPointRepository]
portin " " as StatisticsServiceImpl.requires._statistics
portout " " as StatisticsServiceImpl.provides._latest
[com_piggymetrics_statistics_service_StatisticsServiceImpl]..>[com_piggymetrics_statistics_repository_DataPointRepository] : requires
[com_piggymetrics_statistics_service_StatisticsServiceImpl]..>[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl] : requires
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]..>[com_piggymetrics_statistics_client_ExchangeRatesClient] : requires
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]..>[com_piggymetrics_statistics_client_ExchangeRatesClientFallback] : requires
[com_piggymetrics_statistics_controller_StatisticsController]..>[com_piggymetrics_statistics_service_StatisticsServiceImpl] : requires
"StatisticsServiceImpl.requires._statistics"--[com_piggymetrics_statistics_controller_StatisticsController]
[com_piggymetrics_statistics_client_ExchangeRatesClient].."StatisticsServiceImpl.provides._latest"
}
interface "/statistics" as interface._statistics
interface._statistics--"StatisticsServiceImpl.requires._statistics"
interface "/latest" as interface._latest
"StatisticsServiceImpl.provides._latest"..>interface._latest : requires
component "UserController\n\n\n\n\n\n" {
[com_piggymetrics_auth_service_UserServiceImpl]
[com_piggymetrics_auth_service_security_MongoUserDetailsService]
[com_piggymetrics_auth_controller_UserController]
[com_piggymetrics_auth_repository_UserRepository]
portin " " as UserController.requires._uaa_users
[com_piggymetrics_auth_service_UserServiceImpl]..>[com_piggymetrics_auth_repository_UserRepository] : requires
[com_piggymetrics_auth_service_security_MongoUserDetailsService]..>[com_piggymetrics_auth_repository_UserRepository] : requires
[com_piggymetrics_auth_controller_UserController]..>[com_piggymetrics_auth_service_UserServiceImpl] : requires
"UserController.requires._uaa_users"--[com_piggymetrics_auth_controller_UserController]
}
interface "/uaa/users" as interface._uaa_users
interface._uaa_users--"UserController.requires._uaa_users"
interface "Converter" as interface.Converter
interface.Converter--[com_piggymetrics_notification_repository_converter_FrequencyReaderConverter]
interface "Converter" as interface.Converter
interface.Converter--[com_piggymetrics_notification_repository_converter_FrequencyWriterConverter]
interface "Converter" as interface.Converter
interface.Converter--[com_piggymetrics_statistics_repository_converter_DataPointIdReaderConverter]
interface "Converter" as interface.Converter
interface.Converter--[com_piggymetrics_statistics_repository_converter_DataPointIdWriterConverter]

@enduml
