@startuml
skinparam fixCircleLabelOverlapping true
skinparam componentStyle uml2
component "AccountController\n\n\n\n\n\n" {
[com_piggymetrics_account_service_AccountService]
[com_piggymetrics_account_service_AccountServiceImpl]
[com_piggymetrics_account_repository_AccountRepository]
[com_piggymetrics_account_client_StatisticsServiceClient]
[com_piggymetrics_account_controller_AccountController]
[com_piggymetrics_account_client_AuthServiceClient]
[com_piggymetrics_account_client_StatisticsServiceClientFallback]
portin " " as AccountController_requires_account_service_accounts
portout " " as AccountController_provides_statistics_service_statistics
portout " " as AccountController_provides_auth_service_uaa_users
[com_piggymetrics_account_controller_AccountController]..>[com_piggymetrics_account_service_AccountServiceImpl] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_repository_AccountRepository] : requires
[com_piggymetrics_account_controller_AccountController]..>[com_piggymetrics_account_service_AccountService] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_StatisticsServiceClient] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_AuthServiceClient] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_StatisticsServiceClientFallback] : requires
"AccountController_requires_account_service_accounts"--[com_piggymetrics_account_controller_AccountController]
[com_piggymetrics_account_client_AuthServiceClient].."AccountController_provides_auth_service_uaa_users"
[com_piggymetrics_account_client_StatisticsServiceClient].."AccountController_provides_statistics_service_statistics"
}
interface "account-service/accounts" as interface.account_service_accounts
interface.account_service_accounts--"AccountController_requires_account_service_accounts"
interface "auth-service/uaa/users" as interface.auth_service_uaa_users
"AccountController_provides_auth_service_uaa_users"..>interface.auth_service_uaa_users : requires
interface "statistics-service/statistics" as interface.statistics_service_statistics
"AccountController_provides_statistics_service_statistics"..>interface.statistics_service_statistics : requires
component "ExchangeRatesServiceImpl\n\n\n\n\n\n" {
[com_piggymetrics_statistics_client_ExchangeRatesClient]
[com_piggymetrics_statistics_repository_DataPointRepository]
[com_piggymetrics_statistics_controller_StatisticsController]
[com_piggymetrics_statistics_service_ExchangeRatesService]
[com_piggymetrics_statistics_service_StatisticsServiceImpl]
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]
[com_piggymetrics_statistics_client_ExchangeRatesClientFallback]
[com_piggymetrics_statistics_service_StatisticsService]
portin " " as ExchangeRatesServiceImpl_requires_statistics_service_statistics
portout " " as ExchangeRatesServiceImpl_provides_rates_client_latest
[com_piggymetrics_statistics_service_StatisticsServiceImpl]..>[com_piggymetrics_statistics_repository_DataPointRepository] : requires
[com_piggymetrics_statistics_controller_StatisticsController]..>[com_piggymetrics_statistics_service_StatisticsService] : requires
[com_piggymetrics_statistics_service_StatisticsServiceImpl]..>[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl] : requires
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]..>[com_piggymetrics_statistics_client_ExchangeRatesClient] : requires
[com_piggymetrics_statistics_service_StatisticsServiceImpl]..>[com_piggymetrics_statistics_service_ExchangeRatesService] : requires
[com_piggymetrics_statistics_controller_StatisticsController]..>[com_piggymetrics_statistics_service_StatisticsServiceImpl] : requires
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]..>[com_piggymetrics_statistics_client_ExchangeRatesClientFallback] : requires
"ExchangeRatesServiceImpl_requires_statistics_service_statistics"--[com_piggymetrics_statistics_controller_StatisticsController]
[com_piggymetrics_statistics_client_ExchangeRatesClient].."ExchangeRatesServiceImpl_provides_rates_client_latest"
}
interface "statistics-service/statistics" as interface.statistics_service_statistics
interface.statistics_service_statistics--"ExchangeRatesServiceImpl_requires_statistics_service_statistics"
interface "rates-client/latest" as interface.rates_client_latest
"ExchangeRatesServiceImpl_provides_rates_client_latest"..>interface.rates_client_latest : requires
component "NotificationServiceImpl\n\n\n\n\n\n" {
[com_piggymetrics_notification_service_EmailService]
[com_piggymetrics_notification_service_RecipientService]
[com_piggymetrics_notification_repository_RecipientRepository]
[com_piggymetrics_notification_controller_RecipientController]
[com_piggymetrics_notification_service_RecipientServiceImpl]
[com_piggymetrics_notification_client_AccountServiceClient]
[com_piggymetrics_notification_service_EmailServiceImpl]
[com_piggymetrics_notification_service_NotificationServiceImpl]
portin " " as NotificationServiceImpl_requires_com_piggymetrics_notification_service_NotificationService
portin " " as NotificationServiceImpl_requires_notification_service_notifications_recipients
portout " " as NotificationServiceImpl_provides_account_service_accounts
[com_piggymetrics_notification_service_RecipientServiceImpl]..>[com_piggymetrics_notification_repository_RecipientRepository] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_service_EmailServiceImpl] : requires
[com_piggymetrics_notification_controller_RecipientController]..>[com_piggymetrics_notification_service_RecipientServiceImpl] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_client_AccountServiceClient] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_service_EmailService] : requires
[com_piggymetrics_notification_controller_RecipientController]..>[com_piggymetrics_notification_service_RecipientService] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_service_RecipientServiceImpl] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_service_RecipientService] : requires
"NotificationServiceImpl_requires_notification_service_notifications_recipients"--[com_piggymetrics_notification_controller_RecipientController]
"NotificationServiceImpl_requires_com_piggymetrics_notification_service_NotificationService"--[com_piggymetrics_notification_service_NotificationServiceImpl]
[com_piggymetrics_notification_client_AccountServiceClient].."NotificationServiceImpl_provides_account_service_accounts"
}
interface "com_piggymetrics_notification_service_NotificationService" as interface.com_piggymetrics_notification_service_NotificationService
interface.com_piggymetrics_notification_service_NotificationService--"NotificationServiceImpl_requires_com_piggymetrics_notification_service_NotificationService"
interface "notification-service/notifications/recipients" as interface.notification_service_notifications_recipients
interface.notification_service_notifications_recipients--"NotificationServiceImpl_requires_notification_service_notifications_recipients"
interface "account-service/accounts" as interface.account_service_accounts
"NotificationServiceImpl_provides_account_service_accounts"..>interface.account_service_accounts : requires
component "UserController\n\n\n\n\n\n" {
[com_piggymetrics_auth_service_security_MongoUserDetailsService]
[com_piggymetrics_auth_service_UserService]
[com_piggymetrics_auth_controller_UserController]
[com_piggymetrics_auth_service_UserServiceImpl]
[com_piggymetrics_auth_repository_UserRepository]
portin " " as UserController_requires_auth_service_uaa_users
portin " " as UserController_requires_UserDetailsService
[com_piggymetrics_auth_controller_UserController]..>[com_piggymetrics_auth_service_UserServiceImpl] : requires
[com_piggymetrics_auth_service_security_MongoUserDetailsService]..>[com_piggymetrics_auth_repository_UserRepository] : requires
[com_piggymetrics_auth_controller_UserController]..>[com_piggymetrics_auth_service_UserService] : requires
[com_piggymetrics_auth_service_UserServiceImpl]..>[com_piggymetrics_auth_repository_UserRepository] : requires
"UserController_requires_UserDetailsService"--[com_piggymetrics_auth_service_security_MongoUserDetailsService]
"UserController_requires_auth_service_uaa_users"--[com_piggymetrics_auth_controller_UserController]
}
interface "UserDetailsService" as interface.UserDetailsService
interface.UserDetailsService--"UserController_requires_UserDetailsService"
interface "auth-service/uaa/users" as interface.auth_service_uaa_users
interface.auth_service_uaa_users--"UserController_requires_auth_service_uaa_users"
interface "com_piggymetrics_notification_service_Environment" as interface.com_piggymetrics_notification_service_Environment
interface.com_piggymetrics_notification_service_Environment--[com_piggymetrics_notification_service_Environment_Provider]
interface "com_piggymetrics_notification_service_JavaMailSender" as interface.com_piggymetrics_notification_service_JavaMailSender
interface.com_piggymetrics_notification_service_JavaMailSender--[com_piggymetrics_notification_service_JavaMailSender_Provider]
interface "rates-client/latest" as interface.rates_client_latest
interface.rates_client_latest--[rates_client_latest_Provider]

@enduml
