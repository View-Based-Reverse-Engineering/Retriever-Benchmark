@startuml
skinparam fixCircleLabelOverlapping true
skinparam componentStyle uml2
component "com_piggymetrics_account\n\n\n\n\n\n" {
[com_piggymetrics_account_client_StatisticsServiceClientFallback]
[com_piggymetrics_account_repository_AccountRepository]
[com_piggymetrics_account_controller_AccountController]
[com_piggymetrics_account_client_AuthServiceClient]
[com_piggymetrics_account_client_StatisticsServiceClient]
[com_piggymetrics_account_service_AccountServiceImpl]
portin " " as com_piggymetrics_account_requires_account_service_accounts
portout " " as com_piggymetrics_account_provides_statistics_service_statistics
portout " " as com_piggymetrics_account_provides_auth_service_uaa_users
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_repository_AccountRepository] : requires
[com_piggymetrics_account_controller_AccountController]..>[com_piggymetrics_account_service_AccountServiceImpl] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_StatisticsServiceClient] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_StatisticsServiceClientFallback] : requires
[com_piggymetrics_account_service_AccountServiceImpl]..>[com_piggymetrics_account_client_AuthServiceClient] : requires
"com_piggymetrics_account_requires_account_service_accounts"--[com_piggymetrics_account_controller_AccountController]
[com_piggymetrics_account_client_AuthServiceClient].."com_piggymetrics_account_provides_auth_service_uaa_users"
[com_piggymetrics_account_client_StatisticsServiceClient].."com_piggymetrics_account_provides_statistics_service_statistics"
}
interface "account-service/accounts" as interface.account_service_accounts
interface.account_service_accounts--"com_piggymetrics_account_requires_account_service_accounts"
interface "auth-service/uaa/users" as interface.auth_service_uaa_users
"com_piggymetrics_account_provides_auth_service_uaa_users"..>interface.auth_service_uaa_users : requires
interface "statistics-service/statistics" as interface.statistics_service_statistics
"com_piggymetrics_account_provides_statistics_service_statistics"..>interface.statistics_service_statistics : requires
component "com_piggymetrics_auth\n\n\n\n\n\n" {
[com_piggymetrics_auth_service_security_MongoUserDetailsService]
[com_piggymetrics_auth_repository_UserRepository]
[com_piggymetrics_auth_service_UserServiceImpl]
[com_piggymetrics_auth_controller_UserController]
portin " " as com_piggymetrics_auth_requires_auth_service_uaa_users
[com_piggymetrics_auth_service_security_MongoUserDetailsService]..>[com_piggymetrics_auth_repository_UserRepository] : requires
[com_piggymetrics_auth_controller_UserController]..>[com_piggymetrics_auth_service_UserServiceImpl] : requires
[com_piggymetrics_auth_service_UserServiceImpl]..>[com_piggymetrics_auth_repository_UserRepository] : requires
"com_piggymetrics_auth_requires_auth_service_uaa_users"--[com_piggymetrics_auth_controller_UserController]
}
interface "auth-service/uaa/users" as interface.auth_service_uaa_users
interface.auth_service_uaa_users--"com_piggymetrics_auth_requires_auth_service_uaa_users"
component "com_piggymetrics_notification\n\n\n\n\n\n" {
[com_piggymetrics_notification_client_AccountServiceClient]
[com_piggymetrics_notification_service_NotificationServiceImpl]
[com_piggymetrics_notification_repository_RecipientRepository]
[com_piggymetrics_notification_controller_RecipientController]
[com_piggymetrics_notification_service_RecipientServiceImpl]
[com_piggymetrics_notification_service_EmailServiceImpl]
portin " " as com_piggymetrics_notification_requires_notification_service_notifications_recipients
portout " " as com_piggymetrics_notification_provides_account_service_accounts
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_service_EmailServiceImpl] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_service_RecipientServiceImpl] : requires
[com_piggymetrics_notification_service_RecipientServiceImpl]..>[com_piggymetrics_notification_repository_RecipientRepository] : requires
[com_piggymetrics_notification_controller_RecipientController]..>[com_piggymetrics_notification_service_RecipientServiceImpl] : requires
[com_piggymetrics_notification_service_NotificationServiceImpl]..>[com_piggymetrics_notification_client_AccountServiceClient] : requires
"com_piggymetrics_notification_requires_notification_service_notifications_recipients"--[com_piggymetrics_notification_controller_RecipientController]
[com_piggymetrics_notification_client_AccountServiceClient].."com_piggymetrics_notification_provides_account_service_accounts"
}
interface "notification-service/notifications/recipients" as interface.notification_service_notifications_recipients
interface.notification_service_notifications_recipients--"com_piggymetrics_notification_requires_notification_service_notifications_recipients"
interface "account-service/accounts" as interface.account_service_accounts
"com_piggymetrics_notification_provides_account_service_accounts"..>interface.account_service_accounts : requires
component "com_piggymetrics_statistics\n\n\n\n\n\n" {
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]
[com_piggymetrics_statistics_repository_DataPointRepository]
[com_piggymetrics_statistics_client_ExchangeRatesClientFallback]
[com_piggymetrics_statistics_client_ExchangeRatesClient]
[com_piggymetrics_statistics_service_StatisticsServiceImpl]
[com_piggymetrics_statistics_controller_StatisticsController]
portin " " as com_piggymetrics_statistics_requires_statistics_service_statistics
portout " " as com_piggymetrics_statistics_provides_rates_client_latest
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]..>[com_piggymetrics_statistics_client_ExchangeRatesClientFallback] : requires
[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl]..>[com_piggymetrics_statistics_client_ExchangeRatesClient] : requires
[com_piggymetrics_statistics_service_StatisticsServiceImpl]..>[com_piggymetrics_statistics_service_ExchangeRatesServiceImpl] : requires
[com_piggymetrics_statistics_controller_StatisticsController]..>[com_piggymetrics_statistics_service_StatisticsServiceImpl] : requires
[com_piggymetrics_statistics_service_StatisticsServiceImpl]..>[com_piggymetrics_statistics_repository_DataPointRepository] : requires
"com_piggymetrics_statistics_requires_statistics_service_statistics"--[com_piggymetrics_statistics_controller_StatisticsController]
[com_piggymetrics_statistics_client_ExchangeRatesClient].."com_piggymetrics_statistics_provides_rates_client_latest"
}
interface "statistics-service/statistics" as interface.statistics_service_statistics
interface.statistics_service_statistics--"com_piggymetrics_statistics_requires_statistics_service_statistics"
interface "rates-client/latest" as interface.rates_client_latest
"com_piggymetrics_statistics_provides_rates_client_latest"..>interface.rates_client_latest : requires
interface "com_piggymetrics_notification_service_Environment" as interface.com_piggymetrics_notification_service_Environment
interface.com_piggymetrics_notification_service_Environment--[com_piggymetrics_notification_service_Environment_Provider]
interface "com_piggymetrics_notification_service_JavaMailSender" as interface.com_piggymetrics_notification_service_JavaMailSender
interface.com_piggymetrics_notification_service_JavaMailSender--[com_piggymetrics_notification_service_JavaMailSender_Provider]
interface "rates-client/latest" as interface.rates_client_latest
interface.rates_client_latest--[rates_client_latest_Provider]

@enduml
